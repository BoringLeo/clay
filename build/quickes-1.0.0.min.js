/*!
*
* quickES - Help quickly use ES.
* https://github.com/yelloxing/quickES
* 
* author 心叶
*
* version 1.0.0
* 
* build 2018/07/29
*
* Copyright yelloxing
* Released under the MIT license
* 
**************************************************************
* 
*【内容】
*
* 1.不同浏览器兼容的常用方法
*
* 2.常用的自定义方法
*
* 【说明】
*
* 兼容不同浏览器的接口，提供常用的辅助方法，只是针对常用的，目标是轻量级。
*
* 【打包文件】
* (0)./src/core.js
* (1)./src/config.js
* (2)./src/animation.js
* (3)./src/dom/sizzle.js
* (4)./src/dom/data.js
* (5)./src/dom/modify.js
* (6)./src/dom/search.js
* (7)./src/scale/linear.js
* (8)./src/layout/pie.js
*
*/

!function(e,t,n){"use strict";if(e&&e.document)t(e);else{if("object"!=typeof module||"object"!=typeof module.exports)throw new Error("Unexcepted Error!");module.exports=t(e,!0)}}("undefined"!=typeof window?window:this,function(t,e){"use strict";var n={author:"心叶",email:"yelloxing@gmail.com"},o=t.quickES,i=t.$$;return n.noConflict=function(e){return t.$$===n&&(t.$$=i),e&&t.quickES===n&&(t.quickES=o),n},t.quickES=t.$$=n,n}),function(e,t){"use strict";e.quickES.namespace={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}}("undefined"!=typeof window?window:this),function(e,t){"use strict";var l={timers:[],interval:13,speeds:400,timerId:null};e.quickES.animation=function(t,e,n){l.timer(function(e){t(e)},e,n)},l.timer=function(e,t,n){if(!e)throw new Error("tick is required!");t=t||l.speeds,l.timers.push({createTime:new Date,tick:e,duration:t,callback:n}),l.start()},l.start=function(){l.timerId||(l.timerId=setInterval(l.tick,l.interval))},l.tick=function(){var e,t,n,o,i,r,s,c=l.timers;for(l.timers=[],t=l.timers.length=0;t<c.length;t++)e=(i=c[t]).createTime,n=i.tick,r=i.duration,o=i.callback,!1,1<=(s=(+new Date-e)/r)&&!0,n(100*(s=1<s?1:s)),s<1?l.timers.push(i):o&&o();l.timers.length<=0&&l.stop()},l.stop=function(){l.timerId&&(clearInterval(l.timerId),console.error(l.timerId),l.timerId=null)}}("undefined"!=typeof window?window:this),function(e,r,t){"use strict";r.node=function(){this.eq=function(e){return this.collection=this.size>e?[this.collection[e]]:[],this.size=this.collection.length,this},this.setEnvironment=function(e){this.namespace=e},this.clone=function(){var e=new r.node;for(var t in this)try{this.hasOwnProperty(t)&&(e[t]=this[t])}catch(e){throw new Error("Illegal property value！")}return e}},r.selectAll=function(e,t){var n,o,i=new r.node;if(i.selector=e||"",i.content=t||document,i.collection=[],i.namespace="html","string"==typeof e)if(e=(e+"").trim().replace(/[\n\f\r]/g,""),/^#[\d\w_]+$/.test(e))(o=i.content.getElementById(e.replace(/^#/,"")))&&i.collection.push(o);else{if(!/^[\d\w_]+$/.test(e))throw new Error("Unsupported selector!");for(o=i.content.getElementsByTagName(e),n=0;n<o.length;n++)i.collection.push(o[n])}else if(e.constructor===Array)for(n=0;n<e.length;n++)1===e[n].nodeType||9===e[n].nodeType||11===e[n].nodeType?i.collection.push(e[n]):console.warn("The existence of elements of non - node types!");else{if(1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)throw new Error("Unexcepted Error!");i.collection.push(e)}return i.size=i.collection.length,i}}(window,window.quickES),function(e,t,n){"use strict";t.node.prototype.datum=function(e,t){var n;if(e){for(e="function"==typeof t?t(e):e,n=0;n<this.size;n++)this.collection[n]._data=e;return this}return this.collection[0]?this.collection[0]._data:void 0},t.node.prototype.data=function(e,t){var n,o;if(e){if(e.constructor===Array){for(this._collection={datas:e,calc:t},n=0;n<this.size&&n<e.length;n++)this.collection[n]._data="function"==typeof t?t(e[n],n):e[n];return this}throw new Error("Unsupported data!")}for(o=[],n=0;n<this.size;n++)o[n]=this.collection[n]._data;return o},t.node.prototype.enter=function(){var e;for(this._collection.enter=[],e=this.size;e<this._collection.datas.length;e++)this._collection.enter.push("function"==typeof this._collection.calc?this._collection.calc(this._collection.datas[e]):this._collection.datas[e]);return this.selector+=":enter()",this},t.node.prototype.exit=function(){var e,t=this.collection;for(this.collection=[],e=this._collection.datas.length;e<this.size;e++)this.collection.push(t[e]);return this.size=this.collection.length,this.selector+=":exit()",this}}(window,window.quickES),function(e,o,t){"use strict";var i=function(e,t){if(t&&(1===t.nodeType||11===t.nodeType||9===t.nodeType))return t;if(!t||"string"!=typeof t)throw new Error("Unexcepted Error!");return/^[\w\d-]+$/.test(t)?"svg"===e?document.createElementNS(o.namespace.svg,t):document.createElement(t):((n="svg"===e?createElementNS(o.namespace.svg,"svg"):document.createElement("div")).innerHTML=t,o.selectAll(n).children().collection[0]);var n};o.node.prototype.append=function(e){var t,n;for(t=0;t<this.size;t++)n=i(this.namespace,e),this.collection[t].appendChild(n);return this},o.node.prototype.prepend=function(e){var t,n;for(t=0;t<this.size;t++)n=i(this.namespace,e),this.collection[t].insertBefore(n,this.clone().eq(t).children().collection[0]);return this},o.node.prototype.after=function(e){var t,n;for(t=0;t<this.size;t++)n=i(this.namespace,e),this.clone().eq(t).parent().collection[0].insertBefore(n,this.clone().eq(t).next().collection[0]);return this},o.node.prototype.before=function(e){var t,n;for(t=0;t<this.size;t++)n=i(this.namespace,e),this.clone().eq(t).parent().collection[0].insertBefore(n,this.collection[t]);return this},o.node.prototype.remove=function(){var e;for(e=0;e<this.size;e++)this.clone().eq(e).parent().collection[0].removeChild(this.collection[e]);return this},o.node.prototype.empty=function(){var e;for(e=0;e<this.size;e++)this.collection[e].innerHTML="";return this}}(window,window.quickES),function(e,t,n){"use strict";t.node.prototype.parent=function(e){var t,n,o=this.collection;for(this.collection=[],t=0;t<this.size;t++)(n=o[t].parentNode)&&("function"!=typeof e||e(n,t))&&this.collection.push(n);return this.size=this.collection.length,this.selector+=":parent()",this},t.node.prototype.children=function(e){var t,n,o=this.collection;for(this.collection=[],n=o[0]?o[0].childNodes:[],t=0;t<n.length;t++)1!==n[t].nodeType&&11!==n[t].nodeType&&9!==n[t].nodeType||("function"!=typeof e||e(n[t]))&&this.collection.push(n[t]);return this.size=this.collection.length,this.selector+=":children()",this},t.node.prototype.next=function(e){var t,n,o=this.collection;for(this.collection=[],t=0;t<this.size;t++){for(n=o[t].nextSibling;n&&1!==n.nodeType&&11!==n.nodeType&&9!==n.nodeType&&n.nextSibling;)n=n.nextSibling;!n||1!==n.nodeType&&11!==n.nodeType&&9!==n.nodeType||("function"!=typeof e||e(n,t))&&this.collection.push(n)}return this.size=this.collection.length,this.selector+=":next()",this},t.node.prototype.prev=function(e){var t,n,o=this.collection;for(this.collection=[],t=0;t<this.size;t++){for(n=o[t].previousSibling;n&&1!==n.nodeType&&11!==n.nodeType&&9!==n.nodeType&&n.previousSibling;)n=n.previousSibling;!n||1!==n.nodeType&&11!==n.nodeType&&9!==n.nodeType||("function"!=typeof e||e(n,t))&&this.collection.push(n)}return this.size=this.collection.length,this.selector+=":prev()",this}}(window,window.quickES),function(e,t){"use strict";e.quickES.scaleLinear=function(){var t={};function e(e){if(e&&"number"==typeof e){if(t.scaleCalc)return e<=t.domains[0]?t.ranges[0]:e>=t.domains[1]?t.ranges[1]:(e-t.domains[0])*t.scaleCalc+t.ranges[0];throw new Error("You shoud first set the domain and range!")}throw new Error("A number is required!")}return e.domain=function(e){if(!e||e.constructor!==Array||"number"!=typeof e[0]||"number"!=typeof e[1])throw new Error("Unsupported data!");return t.domains=e,t.ranges&&(t.scaleCalc=(t.ranges[1]-t.ranges[0])/(t.domains[1]-t.domains[0])),this},e.range=function(e){if(!e||e.constructor!==Array||"number"!=typeof e[0]||"number"!=typeof e[1])throw new Error("Unsupported data!");return t.ranges=e,t.domains&&(t.scaleCalc=(t.ranges[1]-t.ranges[0])/(t.domains[1]-t.domains[0])),this},e}}("undefined"!=typeof window?window:this),function(e,t){"use strict";e.quickES.pieLayout=function(){}}("undefined"!=typeof window?window:this);