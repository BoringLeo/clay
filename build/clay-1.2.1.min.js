/*!
*
* clay - Provide more flexible data visualization solutions!
* git+https://github.com/yelloxing/clay.git
* 
* author 心叶
*
* version 1.2.1
* 
* build Sun Jul 29 2018
*
* Copyright yelloxing
* Released under the MIT license
* 
* Date:Mon Aug 27 2018 11:34:15 GMT+0800 (CST)
*/

!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t):e(t)}("undefined"!=typeof window?window:this,function(t,r){"use strict";var a=function(t,e){return new a.prototype.init(t,e)};return a.prototype.init=function(e,t){if("function"==typeof e)a.__isLoad__?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t,!1),e(),a.__isLoad__=!0}):document.attachEvent&&document.attachEvent("onreadystatechange",function t(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),e(),a.__isLoad__=!0)});else{this.context=t=t||document;var n,r=a.sizzle(e,t);for(n=0;n<r.length;n++)this[n]=r[n];this.length=r.length}return this},a.prototype.init.prototype=a.prototype,a.namespace={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},a.regexp={whitespace:"[\\x20\\t\\r\\n\\f]",identifier:"(?:\\\\.|[\\w-]|[^\0-\\xa0])+"},a.math={},a.svg={},a.canvas={},a.layout={},a.sizzle=function(t,e){var n,r=[];if("string"!=typeof t){if(!t||1!==t.nodeType&&11!==t.nodeType&&9!==t.nodeType){if(!t||t.constructor!==Array&&t.constructor!==HTMLCollection)return t&&t.constructor===a?t:[];for(n=0;n<t.length;n++)!t[n]||1!==t[n].nodeType&&11!==t[n].nodeType&&9!==t[n].nodeType||r.push(t[n]);return r}return[t]}if("*"===(t=(t+"").trim().replace(/[\n\f\r]/g,"")))return e.getElementsByTagName("*");var o=a.regexp.whitespace,i=a.regexp.identifier;if(new RegExp("^(?:"+i+"){0,1}(?:(?:#|\\.)"+i+"|\\["+o+"{0,}"+i+"(?:"+o+"{0,}="+o+"{0,}(\\'|\\\"){0,1}"+i+"\\1{0,1}){0,1}"+o+"{0,}\\]){0,}$").test(t)){return[]}try{return[a.toNode(t)]}catch(t){return[]}},a.toNode=function(t){var e=document.createElementNS(a.namespace.svg,"svg");new RegExp("^"+a.regexp.identifier+"$").test(t)&&(t="<"+t+"></"+t+">"),e.innerHTML=t;var n,r,o=e.childNodes;for(n=0;n<o.length;n++)if(1===o[n].nodeType||9===o[n].nodeType||11===o[n].nodeType){r=o[n];break}if(/[A-Z]/.test(r.tagName))for((e=document.createElement("div")).innerHTML=t,o=e.childNodes,n=0;n<o.length;n++)if(1===o[n].nodeType||9===o[n].nodeType||11===o[n].nodeType){r=o[n];break}return r},a.prototype.datum=function(t,e){if(null===t||t===r)return 0<this.length?this[0]._data:r;var n;for(t="function"==typeof e?e(t):t,n=0;n<this.length;n++)this[n]._data=t;return this},a.prototype.data=function(t,e){var n,r=[];if(t&&t.constructor===Array){var o=a();for(n=0;n<t.length&&n<this.length;n++)this[n]._data="function"==typeof e?e(t[n]):t[n],o[n]=this[n],o.length+=1;for(o._enter=[];n<t.length;n++)o._enter.push("function"==typeof e?e(t[n]):t[n]);for(o._exit=[];n<this.length;n++)o._exit.push(this[n]);return o}for(n=0;n<this.length;n++)r[n]=this[n]._data;return r},a.prototype.enter=function(t){var e,n,r=a();for(e=0;this._enter&&e<this._enter.length;e++)(n=a.toNode(t))._data=this._enter[e],r[e]=n,r.length+=1;return delete this._enter,r},a.prototype.exit=function(){var t,e=a();for(t=0;this._exit&&t<this._exit.length;t++)e[t]=this._exit[t],e.length+=1;return delete this._exit,e},a.math.hermite=function(){var u={u:.5},h=function(t){if(u.MR){var e=(t-u.a)/(u.b-u.a),n=e*e;return(e*n*u.MR[0]+n*u.MR[1]+e*u.MR[2]+u.MR[3])*(u.b-u.a)}throw new Error("You shoud first set the position!")};return h.setU=function(t){if("number"!=typeof t)throw new Error("Unsupported data!");return u.u=.5*(1-t),h},h.setP=function(t,e,n,r,o,i){if(!(t<n))throw new Error("Unsupported data!");u.a=t,u.b=n;var a=u.u*o,s=u.u*i;return e/=n-t,r/=n-t,u.MR=[2*e-2*r+a+s,3*r-3*e-2*a-s,a,e],h},h},a.__isLoad__=!1,a.author="心叶",a.email="yelloxing@gmail.com",a.version="1.2.1",t.clay=t.$$=a,a});